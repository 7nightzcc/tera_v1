
-- Obfuscated loader
local b = "77u/LS0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0gVGVyYSDigJQgQXBwbGUgIEFwcCBTdHlsZSAoRmluYWwgQ3V0IC8gTG9naWMpIOKAlCBGdWxsIFNjcmlwdAotLSBVcGdyYWRlZCBHVUkgKGRhcmsgZ3JhcGhpdGUsIHRoaW4gbmVvbi1ibHVlIGFjY2VudHMpLCBtZXJnZWQgd2l0aCBvcmlnaW5hbCBmdW5jdGlvbmFsaXR5LgotLSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKLS0gU2VydmljZXMKbG9jYWwgUGxheWVycyA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpCmxvY2FsIFVzZXJJbnB1dFNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKQpsb2NhbCBUd2VlblNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIlR3ZWVuU2VydmljZSIpCmxvY2FsIFZpcnR1YWxJbnB1dE1hbmFnZXIgPSBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxJbnB1dE1hbmFnZXIiKQpsb2NhbCBSdW5TZXJ2aWNlID0gZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikKbG9jYWwgV29ya3NwYWNlID0gZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKQoKbG9jYWwgTG9jYWxQbGF5ZXIgPSBQbGF5ZXJzLkxvY2FsUGxheWVyCmxvY2FsIFBsYXllckd1aSA9IExvY2FsUGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIikKCi0tID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tIEtFWSBTWVNURU0gKHdpdGggYmx1ciBnbGFzcykKLS0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KbG9jYWwgS0VZID0gInN5eHhydSIKbG9jYWwgdW5sb2NrZWQgPSBmYWxzZQoKbG9jYWwga2V5R3VpID0gSW5zdGFuY2UubmV3KCJTY3JlZW5HdWkiKQprZXlHdWkuTmFtZSA9ICJUZXJhS2V5R3VpIgprZXlHdWkuUmVzZXRPblNwYXduID0gZmFsc2UKa2V5R3VpLlBhcmVudCA9IFBsYXllckd1aQprZXlHdWkuSWdub3JlR3VpSW5zZXQgPSB0cnVlCgotLSBnZW50bGUgZnVsbHNjcmVlbiBkYXJrIGJsdXItaXNoIGJhY2tncm91bmQgKG5vdCB0cnVlIGJsdXIgZm9yIFVJIGJ1dCBhZXN0aGV0aWMpCmxvY2FsIGJnID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCmJnLlNpemUgPSBVRGltMi5uZXcoMSwwLDEsMCkKYmcuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyLDEyLDE0KQpiZy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4xOApiZy5Cb3JkZXJTaXplUGl4ZWwgPSAwCmJnLlBhcmVudCA9IGtleUd1aQoKbG9jYWwga2JDYXJkID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCmtiQ2FyZC5TaXplID0gVURpbTIubmV3KDAsNDIwLDAsMTQwKQprYkNhcmQuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAtMjEwLCAwLjUsIC03MCkKa2JDYXJkLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LDAuNSkKa2JDYXJkLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOCwxOCwyMCkKa2JDYXJkLkJvcmRlclNpemVQaXhlbCA9IDAKa2JDYXJkLlBhcmVudCA9IGJnCgpsb2NhbCBrYkNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiKQprYkNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLDEyKQprYkNvcm5lci5QYXJlbnQgPSBrYkNhcmQKCmxvY2FsIGtiU3Ryb2tlID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIpCmtiU3Ryb2tlLlBhcmVudCA9IGtiQ2FyZAprYlN0cm9rZS5UaGlja25lc3MgPSAxCmtiU3Ryb2tlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LDUwLDgwKQprYlN0cm9rZS5UcmFuc3BhcmVuY3kgPSAwLjY1Cgpsb2NhbCBrYlRpdGxlID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQprYlRpdGxlLlBhcmVudCA9IGtiQ2FyZAprYlRpdGxlLlNpemUgPSBVRGltMi5uZXcoMSwtMjgsMCwzNikKa2JUaXRsZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLDE0LDAsMTIpCmtiVGl0bGUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKa2JUaXRsZS5Gb250ID0gRW51bS5Gb250LkdvdGhhbUJvbGQKa2JUaXRsZS5UZXh0ID0gIlRlcmEgIOKAlCBBY2Nlc3MgS2V5IgprYlRpdGxlLlRleHRTaXplID0gMjAKa2JUaXRsZS5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjMwLDIzMCwyMzApCmtiVGl0bGUuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKCmxvY2FsIGtiU3ViID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQprYlN1Yi5QYXJlbnQgPSBrYkNhcmQKa2JTdWIuU2l6ZSA9IFVEaW0yLm5ldygxLC0yOCwwLDE4KQprYlN1Yi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLDE0LDAsNDQpCmtiU3ViLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCmtiU3ViLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtCmtiU3ViLlRleHQgPSAiIgprYlN1Yi5UZXh0U2l6ZSA9IDEyCmtiU3ViLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxNjAsMTYwLDE3MCkKa2JTdWIuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKCmxvY2FsIGlucHV0ID0gSW5zdGFuY2UubmV3KCJUZXh0Qm94IikKaW5wdXQuUGFyZW50ID0ga2JDYXJkCmlucHV0LlNpemUgPSBVRGltMi5uZXcoMSwtMTAwLDAsMzYpCmlucHV0LlBvc2l0aW9uID0gVURpbTIubmV3KDAsMTQsMCw3MikKaW5wdXQuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIyLDIyLDI0KQppbnB1dC5Cb3JkZXJTaXplUGl4ZWwgPSAwCmlucHV0LlBsYWNlaG9sZGVyVGV4dCA9ICJFbnRlciBrZXkuLi4iCmlucHV0LlRleHQgPSAiIgppbnB1dC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjMwLDIzMCwyMzApCmlucHV0LkZvbnQgPSBFbnVtLkZvbnQuR290aGFtCmlucHV0LlRleHRTaXplID0gMTYKCmxvY2FsIGlucHV0Q29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIGlucHV0KQppbnB1dENvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLDgpCmxvY2FsIGlucHV0U3Ryb2tlID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIsIGlucHV0KQppbnB1dFN0cm9rZS5UaGlja25lc3MgPSAxCmlucHV0U3Ryb2tlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMzAsODAsMTQwKQppbnB1dFN0cm9rZS5UcmFuc3BhcmVuY3kgPSAwLjcKCmxvY2FsIHN1Ym1pdEJ0biA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCnN1Ym1pdEJ0bi5QYXJlbnQgPSBrYkNhcmQKc3VibWl0QnRuLlNpemUgPSBVRGltMi5uZXcoMCw2OCwwLDM2KQpzdWJtaXRCdG4uUG9zaXRpb24gPSBVRGltMi5uZXcoMSwtODIsMCw3MikKc3VibWl0QnRuLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsNTAsODApCnN1Ym1pdEJ0bi5Cb3JkZXJTaXplUGl4ZWwgPSAwCnN1Ym1pdEJ0bi5UZXh0ID0gIlVubG9jayIKc3VibWl0QnRuLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtU2VtaWJvbGQKc3VibWl0QnRuLlRleHRTaXplID0gMTQKc3VibWl0QnRuLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsMjU1LDI1NSkKCmxvY2FsIGJ0bkNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiLCBzdWJtaXRCdG4pCmJ0bkNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLDgpCgotLSBwdWxzZSBuZW9uIG9uIGJ1dHRvbgp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKCXdoaWxlIGtleUd1aS5QYXJlbnQgZG8KCQlUd2VlblNlcnZpY2U6Q3JlYXRlKHN1Ym1pdEJ0biwgVHdlZW5JbmZvLm5ldygxLjIpLCB7QmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSw1MCw4MCl9KTpQbGF5KCkKCQl0YXNrLndhaXQoMS4yKQoJCVR3ZWVuU2VydmljZTpDcmVhdGUoc3VibWl0QnRuLCBUd2VlbkluZm8ubmV3KDEuMiksIHtCYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LDUwLDgwKX0pOlBsYXkoKQoJCXRhc2sud2FpdCgxLjIpCgllbmQKZW5kKQoKbG9jYWwgZnVuY3Rpb24gdW5sb2NrU2VxdWVuY2UoKQoKICAgIC0tIFVTRVIgVVNFRCBLRVkgV0VCSE9PSwogICAgdGFzay5zcGF3bihmdW5jdGlvbigpCiAgICAgICAgbG9jYWwgSHR0cFNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIkh0dHBTZXJ2aWNlIikKICAgICAgICBsb2NhbCBQbGF5ZXJzID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikKICAgICAgICBsb2NhbCB1c2VybmFtZSA9IFBsYXllcnMuTG9jYWxQbGF5ZXIgYW5kIFBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZSBvciAiVW5rbm93biIKCiAgICAgICAgbG9jYWwgcGF5bG9hZCA9IHsKICAgICAgICAgICAgY29udGVudCA9ICIqKlVzZXIgVXNlZCBLZXkqKiIsCiAgICAgICAgICAgIGVtYmVkcyA9IHsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZSA9ICJLZXkgQXV0aGVudGljYXRpb24iLAogICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gIlVzZXJuYW1lOiBgIiAuLiB1c2VybmFtZSAuLiAiYCIsCiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSAxNjc1MzkyMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBsb2NhbCByZXEgPSByZXF1ZXN0IG9yIGh0dHBfcmVxdWVzdCBvciAoc3luIGFuZCBzeW4ucmVxdWVzdCkKICAgICAgICBpZiByZXEgdGhlbgogICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICByZXEoewogICAgICAgICAgICAgICAgICAgIFVybCA9ICJodHRwczovL2Rpc2NvcmQuY29tL2FwaS93ZWJob29rcy8xNDQ2NDA4MTcwNDM5MTgwMzQyL1lWSFJWaUFURWRqVDI1SC0tZG4xVDJuREZBUk10N1hsUzUyWEZMc2dzbV8xZHBURjl6QkhVaHRLWDZ1azE3LW83MXNwIiwKICAgICAgICAgICAgICAgICAgICBNZXRob2QgPSAiUE9TVCIsCiAgICAgICAgICAgICAgICAgICAgSGVhZGVycyA9IHtbIkNvbnRlbnQtVHlwZSJdID0gImFwcGxpY2F0aW9uL2pzb24ifSwKICAgICAgICAgICAgICAgICAgICBCb2R5ID0gSHR0cFNlcnZpY2U6SlNPTkVuY29kZShwYXlsb2FkKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kKQoJdW5sb2NrZWQgPSB0cnVlCglUd2VlblNlcnZpY2U6Q3JlYXRlKGtiQ2FyZCwgVHdlZW5JbmZvLm5ldygwLjM1KSwge1Bvc2l0aW9uID0gVURpbTIubmV3KDAuNSwtMjEwLDAuMiwwKSwgQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDF9KTpQbGF5KCkKCVR3ZWVuU2VydmljZTpDcmVhdGUoYmcsIFR3ZWVuSW5mby5uZXcoMC4zNSksIHtCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMX0pOlBsYXkoKQoJdGFzay53YWl0KDAuMzUpCglrZXlHdWk6RGVzdHJveSgpCiAgICBpZiBNYWluRnJhbWUgdGhlbiAKICAgICAgICBNYWluRnJhbWUuVmlzaWJsZSA9IHRydWUKICAgICAgICBNYWluRnJhbWUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKE1haW5GcmFtZSwgVHdlZW5JbmZvLm5ldygwLjUpLCB7QmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDB9KTpQbGF5KCkKICAgIGVuZAplbmQKCnN1Ym1pdEJ0bi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkKCWlmIGlucHV0LlRleHQgfj0gS0VZIHRoZW4KCQlMb2NhbFBsYXllcjpLaWNrKCJJbnZhbGlkIGF1dGhlbnRpY2F0aW9uIGtleS4iKQoJCXJldHVybgoJZW5kCgl1bmxvY2tTZXF1ZW5jZSgpCmVuZCkKCmlucHV0LkZvY3VzTG9zdDpDb25uZWN0KGZ1bmN0aW9uKGVudGVyKQoJaWYgZW50ZXIgdGhlbgoJCWlmIGlucHV0LlRleHQgfj0gS0VZIHRoZW4KCQkJTG9jYWxQbGF5ZXI6S2ljaygiSW52YWxpZCBhdXRoZW50aWNhdGlvbiBrZXkuIikKCQkJcmV0dXJuCgkJZW5kCgkJdW5sb2NrU2VxdWVuY2UoKQoJZW5kCmVuZCkKCi0tID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tIERFRkFVTFQgVkFMVUVTIEZPUiBBSU1JTkcgKyBUUkFJTFMKLS0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmxvY2FsIERFRkFVTFRfUFJFRElDVElPTiA9IDEKbG9jYWwgREVGQVVMVF9CTEVORCA9IDAuOQpsb2NhbCBERUZBVUxUX1NISUZUX0RFTEFZID0gMC4xCgpsb2NhbCBERUZBVUxUX1RSQUlMX0xJRkVUSU1FID0gMC4yMQpsb2NhbCBERUZBVUxUX1RSQUlMX1NUQVJUX1QgPSAwLjQ3CmxvY2FsIERFRkFVTFRfVFJBSUxfRU5EX1QgPSAxCmxvY2FsIERFRkFVTFRfVFJBSUxfQlJJR0hUTkVTUyA9IDEwCmxvY2FsIERFRkFVTFRfVFJBSUxfRU1JU1NJT04gPSAxCgpsb2NhbCBERUZBVUxUX1JBSU5CT1cgPSBmYWxzZQoKX0cuQWltU2V0dGluZ3MgPSB7CglfZ2V0UHJlZGljdGlvbiA9IERFRkFVTFRfUFJFRElDVElPTiwKCV9nZXRCbGVuZCA9IERFRkFVTFRfQkxFTkQsCglfc2hpZnRFbmFibGVkID0gZmFsc2UsCglfZ2V0U2hpZnREZWxheSA9IERFRkFVTFRfU0hJRlRfREVMQVksCn0KCl9HLlRyYWlsU2V0dGluZ3MgPSB7CglMaWZldGltZSA9IERFRkFVTFRfVFJBSUxfTElGRVRJTUUsCglTdGFydFQgPSBERUZBVUxUX1RSQUlMX1NUQVJUX1QsCglFbmRUID0gREVGQVVMVF9UUkFJTF9FTkRfVCwKCUJyaWdodG5lc3MgPSBERUZBVUxUX1RSQUlMX0JSSUdIVE5FU1MsCglFbWlzc2lvbiA9IERFRkFVTFRfVFJBSUxfRU1JU1NJT04sCglSYWluYm93ID0gREVGQVVMVF9SQUlOQk9XCn0KCi0tID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tIEdVSSBDUkVBVElPTiAoQXBwbGUgIEFwcCBTdHlsZSkKLS0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmxvY2FsIGZ1bmN0aW9uIGNyZWF0ZUdVSSgpCglsb2NhbCBndWkgPSBJbnN0YW5jZS5uZXcoIlNjcmVlbkd1aSIpCglndWkuTmFtZSA9ICJUZXJhR1VJIgoJZ3VpLlJlc2V0T25TcGF3biA9IGZhbHNlCglndWkuUGFyZW50ID0gUGxheWVyR3VpCglndWkuSWdub3JlR3VpSW5zZXQgPSB0cnVlCgoJLS0gTUFJTiBGUkFNRSAoZ3JhcGhpdGUpCglsb2NhbCBmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJZnJhbWUuTmFtZSA9ICJNYWluRnJhbWUiCglmcmFtZS5TaXplID0gVURpbTIubmV3KDAsIDQyMCwgMCwgNDYwKQoJZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMSwgLTQ2MCwgMC41LCAtMjMwKQoJZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE4LDE4LDIwKQoJZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMAoJZnJhbWUuVmlzaWJsZSA9IGZhbHNlCglmcmFtZS5QYXJlbnQgPSBndWkKCglsb2NhbCBmcmFtZUNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiLCBmcmFtZSkKCWZyYW1lQ29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsMTQpCgoJbG9jYWwgZnJhbWVTdHJva2UgPSBJbnN0YW5jZS5uZXcoIlVJU3Ryb2tlIiwgZnJhbWUpCglmcmFtZVN0cm9rZS5UaGlja25lc3MgPSAxCglmcmFtZVN0cm9rZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDI1NSw1MCw4MCkKCWZyYW1lU3Ryb2tlLlRyYW5zcGFyZW5jeSA9IDAuNQoKCS0tIHNvZnQgaW5uZXIgaGlnaGxpZ2h0Cglsb2NhbCBoaWdobGlnaHQgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgZnJhbWUpCgloaWdobGlnaHQuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLDApCgloaWdobGlnaHQuU2l6ZSA9IFVEaW0yLm5ldygxLCAtMiwgMCwgNTgpCgloaWdobGlnaHQuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwxLDAsMSkKCWhpZ2hsaWdodC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQoKCS0tIFRJVExFIEJBUgoJbG9jYWwgdGl0bGVCYXIgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgZnJhbWUpCgl0aXRsZUJhci5TaXplID0gVURpbTIubmV3KDEsMCwwLDU4KQoJdGl0bGVCYXIuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIyLDIyLDI0KQoJdGl0bGVCYXIuQm9yZGVyU2l6ZVBpeGVsID0gMAoKCWxvY2FsIHRpdGxlQ29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIHRpdGxlQmFyKQoJdGl0bGVDb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwxMikKCglsb2NhbCB0aXRsZUxhYmVsID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB0aXRsZUJhcikKCXRpdGxlTGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygxLC0yMCwxLCAtMTgpCgl0aXRsZUxhYmVsLlBvc2l0aW9uID0gVURpbTIubmV3KDAsMTQsMCwxMCkKCXRpdGxlTGFiZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKCXRpdGxlTGFiZWwuVGV4dCA9ICJUZXJhIgoJdGl0bGVMYWJlbC5Gb250ID0gRW51bS5Gb250LkdvdGhhbUJvbGQKCXRpdGxlTGFiZWwuVGV4dFNpemUgPSAyMAoJdGl0bGVMYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjM1LDIzNSwyNDApCgl0aXRsZUxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CgoJbG9jYWwgc3VidGl0bGUgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHRpdGxlQmFyKQoJc3VidGl0bGUuU2l6ZSA9IFVEaW0yLm5ldygxLC0yMCwwLDE4KQoJc3VidGl0bGUuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwxNCwwLDMwKQoJc3VidGl0bGUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKCXN1YnRpdGxlLlRleHQgPSAiIgoJc3VidGl0bGUuRm9udCA9IEVudW0uRm9udC5Hb3RoYW0KCXN1YnRpdGxlLlRleHRTaXplID0gMTIKCXN1YnRpdGxlLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxNTAsMTYwLDE3MCkKCXN1YnRpdGxlLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CgotLSBSYWluYm93IGFuaW1hdGlvbiBmb3IgVGVyYSB0aXRsZQp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRydWUgZG8KICAgICAgICBsb2NhbCBodWUgPSAodGljaygpICUgNSkgLyA1CiAgICAgICAgaWYgdGl0bGVMYWJlbCB0aGVuCiAgICAgICAgICAgIHRpdGxlTGFiZWwuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tSFNWKGh1ZSwxLDEpCiAgICAgICAgZW5kCiAgICAgICAgdGFzay53YWl0KDAuMDUpCiAgICBlbmQKZW5kKQoKCgktLSBEUkFHIEhBTkRMRSAob3B0aW9uYWwpCgl0aXRsZUJhci5JbnB1dEJlZ2FuOkNvbm5lY3QoZnVuY3Rpb24oaW5wdXQpCgkJaWYgaW5wdXQuVXNlcklucHV0VHlwZSA9PSBFbnVtLlVzZXJJbnB1dFR5cGUuTW91c2VCdXR0b24xIHRoZW4KCQkJbG9jYWwgc3RhcnRQb3MgPSBpbnB1dC5Qb3NpdGlvbgoJCQlsb2NhbCBzdGFydEZyYW1lUG9zID0gZnJhbWUuUG9zaXRpb24KCQkJbG9jYWwgY29ubmVjdGlvbgoJCQljb25uZWN0aW9uID0gVXNlcklucHV0U2VydmljZS5JbnB1dENoYW5nZWQ6Q29ubmVjdChmdW5jdGlvbihtb3ZlKQoJCQkJaWYgbW92ZS5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZU1vdmVtZW50IHRoZW4KCQkJCQlsb2NhbCBkZWx0YSA9IG1vdmUuUG9zaXRpb24gLSBzdGFydFBvcwoJCQkJCWZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KHN0YXJ0RnJhbWVQb3MuWC5TY2FsZSwgc3RhcnRGcmFtZVBvcy5YLk9mZnNldCArIGRlbHRhLlgsIHN0YXJ0RnJhbWVQb3MuWS5TY2FsZSwgc3RhcnRGcmFtZVBvcy5ZLk9mZnNldCArIGRlbHRhLlkpCgkJCQllbmQKCQkJZW5kKQoJCQlVc2VySW5wdXRTZXJ2aWNlLklucHV0RW5kZWQ6V2FpdCgpCgkJCWNvbm5lY3Rpb246RGlzY29ubmVjdCgpCgkJZW5kCgllbmQpCgoJLS0gVEFCIEJBUgoJbG9jYWwgdGFiQmFyID0gSW5zdGFuY2UubmV3KCJGcmFtZSIsIGZyYW1lKQoJdGFiQmFyLlNpemUgPSBVRGltMi5uZXcoMSwgLTI4LCAwLCA0MCkKCXRhYkJhci5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLDE0LDAsNjYpCgl0YWJCYXIuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKCglsb2NhbCB0YWJBaW0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iLCB0YWJCYXIpCgl0YWJBaW0uU2l6ZSA9IFVEaW0yLm5ldygwLjUsIC02LCAxLCAwKQoJdGFiQWltLlBvc2l0aW9uID0gVURpbTIubmV3KDAsMCwwLDApCgl0YWJBaW0uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI2LDI2LDI4KQoJdGFiQWltLkJvcmRlclNpemVQaXhlbCA9IDAKCXRhYkFpbS5Gb250ID0gRW51bS5Gb250LkdvdGhhbQoJdGFiQWltLlRleHQgPSAiR3VucyIKCXRhYkFpbS5UZXh0U2l6ZSA9IDE0Cgl0YWJBaW0uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIxMCwyMTAsMjIwKQoJdGFiQWltLkF1dG9CdXR0b25Db2xvciA9IGZhbHNlCgoJbG9jYWwgdGFiVHJhaWwgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iLCB0YWJCYXIpCgl0YWJUcmFpbC5TaXplID0gVURpbTIubmV3KDAuNSwgLTYsIDEsIDApCgl0YWJUcmFpbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDYsIDAsIDApCgl0YWJUcmFpbC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjEsMjEsMjMpCgl0YWJUcmFpbC5Cb3JkZXJTaXplUGl4ZWwgPSAwCgl0YWJUcmFpbC5Gb250ID0gRW51bS5Gb250LkdvdGhhbQoJdGFiVHJhaWwuVGV4dCA9ICJUcmFpbCBFZmZlY3RzIgoJdGFiVHJhaWwuVGV4dFNpemUgPSAxNAoJdGFiVHJhaWwuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE4MCwxODAsMTkwKQoJdGFiVHJhaWwuQXV0b0J1dHRvbkNvbG9yID0gZmFsc2UKCgktLSBBY3RpdmUgdGFiIGluZGljYXRvcgoJbG9jYWwgYWN0aXZlSW5kaWNhdG9yID0gSW5zdGFuY2UubmV3KCJGcmFtZSIsIHRhYkJhcikKCWFjdGl2ZUluZGljYXRvci5TaXplID0gVURpbTIubmV3KDAuNSwgLTEyLCAwLCA0KQoJYWN0aXZlSW5kaWNhdG9yLlBvc2l0aW9uID0gVURpbTIubmV3KDAsNiwxLC02KQoJYWN0aXZlSW5kaWNhdG9yLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsNTAsODApCglhY3RpdmVJbmRpY2F0b3IuQm9yZGVyU2l6ZVBpeGVsID0gMAoJbG9jYWwgaW5kQ29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIGFjdGl2ZUluZGljYXRvcikKCWluZENvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLDQpCgoJLS0gQ09OVEVOVCBGUkFNRVMKCWxvY2FsIGNvbnRlbnRIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgZnJhbWUpCgljb250ZW50SG9sZGVyLlNpemUgPSBVRGltMi5uZXcoMSwgLTI4LCAxLCAtMTMwKQoJY29udGVudEhvbGRlci5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLDE0LDAsMTE4KQoJY29udGVudEhvbGRlci5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQoKCWxvY2FsIGFpbUZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIsIGNvbnRlbnRIb2xkZXIpCglhaW1GcmFtZS5TaXplID0gVURpbTIubmV3KDEsMCwxLDApCglhaW1GcmFtZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQoJYWltRnJhbWUuVmlzaWJsZSA9IHRydWUKCglsb2NhbCB0cmFpbEZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIsIGNvbnRlbnRIb2xkZXIpCgl0cmFpbEZyYW1lLlNpemUgPSBVRGltMi5uZXcoMSwwLDEsMCkKCXRyYWlsRnJhbWUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKCXRyYWlsRnJhbWUuVmlzaWJsZSA9IGZhbHNlCgoJLS0gVGFiIHN3aXRjaGluZyB3aXRoIHNtb290aCB0d2VlbgoJbG9jYWwgZnVuY3Rpb24gc2V0QWN0aXZlVGFiKHRhYikKCQlpZiB0YWIgPT0gImFpbSIgdGhlbgoJCQlhaW1GcmFtZS5WaXNpYmxlID0gdHJ1ZQoJCQl0cmFpbEZyYW1lLlZpc2libGUgPSBmYWxzZQoJCQlUd2VlblNlcnZpY2U6Q3JlYXRlKGFjdGl2ZUluZGljYXRvciwgVHdlZW5JbmZvLm5ldygwLjI4LCBFbnVtLkVhc2luZ1N0eWxlLlF1YXJ0KSwge1Bvc2l0aW9uID0gVURpbTIubmV3KDAsNiwxLC02KX0pOlBsYXkoKQoJCQl0YWJBaW0uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIzNSwyMzUsMjQwKQoJCQl0YWJUcmFpbC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTYwLDE2MCwxNzApCgkJCXRhYkFpbS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjgsMjgsMzApCgkJCXRhYlRyYWlsLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMSwyMSwyMykKCQllbHNlCgkJCWFpbUZyYW1lLlZpc2libGUgPSBmYWxzZQoJCQl0cmFpbEZyYW1lLlZpc2libGUgPSB0cnVlCgkJCVR3ZWVuU2VydmljZTpDcmVhdGUoYWN0aXZlSW5kaWNhdG9yLCBUd2VlbkluZm8ubmV3KDAuMjgsIEVudW0uRWFzaW5nU3R5bGUuUXVhcnQpLCB7UG9zaXRpb24gPSBVRGltMi5uZXcoMC41LDYsMSwtNil9KTpQbGF5KCkKCQkJdGFiVHJhaWwuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIzNSwyMzUsMjQwKQoJCQl0YWJBaW0uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE2MCwxNjAsMTcwKQoJCQl0YWJUcmFpbC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjgsMjgsMzApCgkJCXRhYkFpbS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjEsMjEsMjMpCgkJZW5kCgllbmQKCgl0YWJBaW0uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpIHNldEFjdGl2ZVRhYigiYWltIikgZW5kKQoJdGFiVHJhaWwuTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpIHNldEFjdGl2ZVRhYigidHJhaWwiKSBlbmQpCgoJLS0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCS0tIFVUSUw6IHNsaWRlciBjcmVhdG9yIChyZWZpbmVkICBzdHlsZSkKCS0tID09PT09PT09PT09PT09PT09PT09PT09PT09PT09Cglsb2NhbCBmdW5jdGlvbiBjcmVhdGVTbGlkZXIocGFyZW50LCBuYW1lLCBtaW52LCBtYXh2LCBkZWZhdWx0LCB5cG9zKQoJCWxvY2FsIGxhYmVsID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCBwYXJlbnQpCgkJbGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygxLCAtMjAsIDAsIDIwKQoJCWxhYmVsLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDEwLCAwLCB5cG9zKQoJCWxhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCgkJbGFiZWwuRm9udCA9IEVudW0uRm9udC5Hb3RoYW0KCQlsYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjAwLDIwMCwyMTApCgkJbGFiZWwuVGV4dFNpemUgPSAxMwoJCWxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CgkJbGFiZWwuVGV4dCA9IHN0cmluZy5mb3JtYXQoIiVzOiAlcyIsIG5hbWUsIGRlZmF1bHQpCgoJCWxvY2FsIGJhY2sgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgcGFyZW50KQoJCWJhY2suU2l6ZSA9IFVEaW0yLm5ldygxLCAtMjAsIDAsIDEyKQoJCWJhY2suUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTAsIDAsIHlwb3MgKyAyMCkKCQliYWNrLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyOCwyOCwzMCkKCQliYWNrLkJvcmRlclNpemVQaXhlbCA9IDAKCgkJbG9jYWwgYmFja0Nvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiLCBiYWNrKQoJCWJhY2tDb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCw4KQoJCWxvY2FsIGJhY2tTdHJva2UgPSBJbnN0YW5jZS5uZXcoIlVJU3Ryb2tlIiwgYmFjaykKCQliYWNrU3Ryb2tlLlRoaWNrbmVzcyA9IDEKCQliYWNrU3Ryb2tlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LDUwLDgwKQoJCWJhY2tTdHJva2UuVHJhbnNwYXJlbmN5ID0gMC42CgoJCWxvY2FsIGZpbGwgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgYmFjaykKCQlsb2NhbCByZWwgPSBtYXRoLmNsYW1wKChkZWZhdWx0IC0gbWludikgLyAobWF4diAtIG1pbnYpLCAwLCAxKQoJCWZpbGwuU2l6ZSA9IFVEaW0yLm5ldyhyZWwsMCwxLDApCgkJZmlsbC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LDUwLDgwKQoJCWZpbGwuQm9yZGVyU2l6ZVBpeGVsID0gMAoKCQlsb2NhbCBmaWxsQ29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIGZpbGwpCgkJZmlsbENvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLDgpCgoJCWxvY2FsIGRyYWdEb3QgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgZmlsbCkKCQlkcmFnRG90LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LDAuNSkKCQlkcmFnRG90LlNpemUgPSBVRGltMi5uZXcoMCwxNCwwLDE0KQoJCWRyYWdEb3QuUG9zaXRpb24gPSBVRGltMi5uZXcoMSwgLTcsIDAuNSwgMCkKCQlkcmFnRG90LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMzUsMjM1LDI0NSkKCQlkcmFnRG90LkJvcmRlclNpemVQaXhlbCA9IDAKCQlsb2NhbCBkb3RDb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgZHJhZ0RvdCkKCQlkb3RDb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCw4KQoJCWxvY2FsIGRvdFN0cm9rZSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiLCBkcmFnRG90KQoJCWRvdFN0cm9rZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDIwLDMwLDUwKQoJCWRvdFN0cm9rZS5UaGlja25lc3MgPSAxCgoJCWxvY2FsIGRyYWdnaW5nID0gZmFsc2UKCgkJbG9jYWwgZnVuY3Rpb24gdXBkYXRlRnJvbU1vdXNlKHgpCgkJCWxvY2FsIHJlbExvY2FsID0gbWF0aC5jbGFtcCgoeCAtIGJhY2suQWJzb2x1dGVQb3NpdGlvbi5YKSAvIGJhY2suQWJzb2x1dGVTaXplLlgsIDAsIDEpCgkJCWZpbGwuU2l6ZSA9IFVEaW0yLm5ldyhyZWxMb2NhbCwwLDEsMCkKCQkJZHJhZ0RvdC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygxLCAtNywgMC41LCAwKQoJCQlsb2NhbCBuZXdWYWwgPSBtYXRoLmZsb29yKChtaW52ICsgKG1heHYgLSBtaW52KSAqIHJlbExvY2FsKSoxMDApLzEwMAoJCQlsYWJlbC5UZXh0ID0gc3RyaW5nLmZvcm1hdCgiJXM6ICVzIiwgbmFtZSwgdG9zdHJpbmcobmV3VmFsKSkKCgkJCS0tIFVwZGF0ZSBzZXR0aW5ncwoJCQlpZiBuYW1lPT0iUHJlZGljdGlvbiIgdGhlbiBfRy5BaW1TZXR0aW5ncy5fZ2V0UHJlZGljdGlvbiA9IG5ld1ZhbAoJCQllbHNlaWYgbmFtZT09IkJsZW5kIiB0aGVuIF9HLkFpbVNldHRpbmdzLl9nZXRCbGVuZCA9IG5ld1ZhbAoJCQllbHNlaWYgbmFtZT09IlNoaWZ0RGVsYXkiIHRoZW4gX0cuQWltU2V0dGluZ3MuX2dldFNoaWZ0RGVsYXkgPSBuZXdWYWwKCgkJCWVsc2VpZiBuYW1lPT0iVHJhaWxMaWZldGltZSIgdGhlbiBfRy5UcmFpbFNldHRpbmdzLkxpZmV0aW1lID0gbmV3VmFsCgkJCWVsc2VpZiBuYW1lPT0iVHJhaWxTdGFydFQiIHRoZW4gX0cuVHJhaWxTZXR0aW5ncy5TdGFydFQgPSBuZXdWYWwKCQkJZWxzZWlmIG5hbWU9PSJUcmFpbEVuZFQiIHRoZW4gX0cuVHJhaWxTZXR0aW5ncy5FbmRUID0gbmV3VmFsCgkJCWVsc2VpZiBuYW1lPT0iVHJhaWxCcmlnaHRuZXNzIiB0aGVuIF9HLlRyYWlsU2V0dGluZ3MuQnJpZ2h0bmVzcyA9IG5ld1ZhbAoJCQllbHNlaWYgbmFtZT09IlRyYWlsRW1pc3Npb24iIHRoZW4gX0cuVHJhaWxTZXR0aW5ncy5FbWlzc2lvbiA9IG5ld1ZhbAoJCQllbmQKCQllbmQKCgkJYmFjay5JbnB1dEJlZ2FuOkNvbm5lY3QoZnVuY3Rpb24oaSkKCQkJaWYgaS5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZUJ1dHRvbjEgdGhlbgoJCQkJZHJhZ2dpbmcgPSB0cnVlCgkJCQl1cGRhdGVGcm9tTW91c2UoVXNlcklucHV0U2VydmljZTpHZXRNb3VzZUxvY2F0aW9uKCkuWCkKCQkJZW5kCgkJZW5kKQoKCQliYWNrLklucHV0RW5kZWQ6Q29ubmVjdChmdW5jdGlvbihpKQoJCQlpZiBpLlVzZXJJbnB1dFR5cGUgPT0gRW51bS5Vc2VySW5wdXRUeXBlLk1vdXNlQnV0dG9uMSB0aGVuCgkJCQlkcmFnZ2luZyA9IGZhbHNlCgkJCWVuZAoJCWVuZCkKCgkJVXNlcklucHV0U2VydmljZS5JbnB1dENoYW5nZWQ6Q29ubmVjdChmdW5jdGlvbihpKQoJCQlpZiBkcmFnZ2luZyBhbmQgaS5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZU1vdmVtZW50IHRoZW4KCQkJCXVwZGF0ZUZyb21Nb3VzZShpLlBvc2l0aW9uLlgpCgkJCWVuZAoJCWVuZCkKCWVuZAoKCS0tID09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgktLSBBSU0gVEFCIENPTlRFTlQKCS0tID09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgljcmVhdGVTbGlkZXIoYWltRnJhbWUsICJQcmVkaWN0aW9uIiwgMC4xLCAyMCwgREVGQVVMVF9QUkVESUNUSU9OLCA2KQoJY3JlYXRlU2xpZGVyKGFpbUZyYW1lLCAiQmxlbmQiLCAwLCAxLCBERUZBVUxUX0JMRU5ELCA2NikKCWNyZWF0ZVNsaWRlcihhaW1GcmFtZSwgIlNoaWZ0RGVsYXkiLCAwLjA1LCAxLCBERUZBVUxUX1NISUZUX0RFTEFZLCAxMjYpCgoJLS0gU0hJRlQgVE9HR0xFCglsb2NhbCBzaGlmdExhYmVsID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCBhaW1GcmFtZSkKCXNoaWZ0TGFiZWwuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTQsIDAsIDE4NikKCXNoaWZ0TGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygwLCAyMjAsIDAsIDIyKQoJc2hpZnRMYWJlbC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQoJc2hpZnRMYWJlbC5UZXh0ID0gIlNoaWZ0IE1hY3JvIgoJc2hpZnRMYWJlbC5Gb250ID0gRW51bS5Gb250LkdvdGhhbQoJc2hpZnRMYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjAwLDIwMCwyMTApCglzaGlmdExhYmVsLlRleHRTaXplID0gMTQKCXNoaWZ0TGFiZWwuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKCglsb2NhbCBzaGlmdEJveCA9IEluc3RhbmNlLm5ldygiRnJhbWUiLCBhaW1GcmFtZSkKCXNoaWZ0Qm94LlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDIyMCwgMCwgMTgyKQoJc2hpZnRCb3guU2l6ZSA9IFVEaW0yLm5ldygwLCAzNCwgMCwgMjYpCglzaGlmdEJveC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjgsMjgsMzApCglzaGlmdEJveC5Cb3JkZXJTaXplUGl4ZWwgPSAwCglsb2NhbCBzaGlmdENvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiLCBzaGlmdEJveCkKCXNoaWZ0Q29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsOCkKCWxvY2FsIHNoaWZ0U3Ryb2tlID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIsIHNoaWZ0Qm94KQoJc2hpZnRTdHJva2UuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigyNCw0MCw3MCkKCXNoaWZ0U3Ryb2tlLlRoaWNrbmVzcyA9IDEKCXNoaWZ0U3Ryb2tlLlRyYW5zcGFyZW5jeSA9IDAuNgoKCWxvY2FsIGlubmVyID0gSW5zdGFuY2UubmV3KCJGcmFtZSIsIHNoaWZ0Qm94KQoJaW5uZXIuU2l6ZSA9IFVEaW0yLm5ldygwLjQ2LDAsMC43LDApCglpbm5lci5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjA0LDAsMC4xNSwwKQoJaW5uZXIuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSw1MCw4MCkKCWlubmVyLkJvcmRlclNpemVQaXhlbCA9IDAKCWlubmVyLlZpc2libGUgPSBmYWxzZQoJbG9jYWwgaW5uZXJDb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgaW5uZXIpCglpbm5lckNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLDYpCgoJc2hpZnRCb3guSW5wdXRCZWdhbjpDb25uZWN0KGZ1bmN0aW9uKGkpCgkJaWYgaS5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZUJ1dHRvbjEgdGhlbgoJCQlfRy5BaW1TZXR0aW5ncy5fc2hpZnRFbmFibGVkID0gbm90IF9HLkFpbVNldHRpbmdzLl9zaGlmdEVuYWJsZWQKCQkJaW5uZXIuVmlzaWJsZSA9IF9HLkFpbVNldHRpbmdzLl9zaGlmdEVuYWJsZWQKCQkJaWYgaW5uZXIuVmlzaWJsZSB0aGVuCgkJCQlUd2VlblNlcnZpY2U6Q3JlYXRlKGlubmVyLCBUd2VlbkluZm8ubmV3KDAuMTgpLCB7UG9zaXRpb24gPSBVRGltMi5uZXcoMC41LDAsMC4xNSwwKX0pOlBsYXkoKQoJCQllbHNlCgkJCQlpbm5lci5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjA0LDAsMC4xNSwwKQoJCQllbmQKCQllbmQKCWVuZCkKCgktLSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoJLS0gVFJBSUwgVEFCIENPTlRFTlQKCS0tID09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgljcmVhdGVTbGlkZXIodHJhaWxGcmFtZSwgIlRyYWlsTGlmZXRpbWUiLCAwLjA1LCAxLCBERUZBVUxUX1RSQUlMX0xJRkVUSU1FLCA2KQoJY3JlYXRlU2xpZGVyKHRyYWlsRnJhbWUsICJUcmFpbFN0YXJ0VCIsIDAsIDEsIERFRkFVTFRfVFJBSUxfU1RBUlRfVCwgNjYpCgljcmVhdGVTbGlkZXIodHJhaWxGcmFtZSwgIlRyYWlsRW5kVCIsIDAsIDEsIERFRkFVTFRfVFJBSUxfRU5EX1QsIDEyNikKCWNyZWF0ZVNsaWRlcih0cmFpbEZyYW1lLCAiVHJhaWxCcmlnaHRuZXNzIiwgMSwgMjAsIERFRkFVTFRfVFJBSUxfQlJJR0hUTkVTUywgMTg2KQoJY3JlYXRlU2xpZGVyKHRyYWlsRnJhbWUsICJUcmFpbEVtaXNzaW9uIiwgMCwgMSwgREVGQVVMVF9UUkFJTF9FTUlTU0lPTiwgMjQ2KQoKCS0tIFJBSU5CT1cgVE9HR0xFCglsb2NhbCByYWluYm93TGFiZWwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIHRyYWlsRnJhbWUpCglyYWluYm93TGFiZWwuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTQsIDAsIDMwNikKCXJhaW5ib3dMYWJlbC5TaXplID0gVURpbTIubmV3KDAsIDIyMCwgMCwgMjIpCglyYWluYm93TGFiZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKCXJhaW5ib3dMYWJlbC5UZXh0ID0gIlJhaW5ib3cgVHJhaWxzIgoJcmFpbmJvd0xhYmVsLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtCglyYWluYm93TGFiZWwuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIwMCwyMDAsMjEwKQoJcmFpbmJvd0xhYmVsLlRleHRTaXplID0gMTQKCXJhaW5ib3dMYWJlbC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAoKCWxvY2FsIHJhaW5ib3dCb3ggPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgdHJhaWxGcmFtZSkKCXJhaW5ib3dCb3guUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMjYwLCAwLCAzMDIpCglyYWluYm93Qm94LlNpemUgPSBVRGltMi5uZXcoMCwgMzQsIDAsIDI2KQoJcmFpbmJvd0JveC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjgsMjgsMzApCglyYWluYm93Qm94LkJvcmRlclNpemVQaXhlbCA9IDAKCWxvY2FsIHJhaW5ib3dDb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgcmFpbmJvd0JveCkKCXJhaW5ib3dDb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCw4KQoJbG9jYWwgcmFpbmJvd1N0cm9rZSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiLCByYWluYm93Qm94KQoJcmFpbmJvd1N0cm9rZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDI0LDQwLDcwKQoJcmFpbmJvd1N0cm9rZS5UaGlja25lc3MgPSAxCglyYWluYm93U3Ryb2tlLlRyYW5zcGFyZW5jeSA9IDAuNgoKCWxvY2FsIHJhaW5ib3dJbm5lciA9IEluc3RhbmNlLm5ldygiRnJhbWUiLCByYWluYm93Qm94KQoJcmFpbmJvd0lubmVyLlNpemUgPSBVRGltMi5uZXcoMC40NiwwLDAuNywwKQoJcmFpbmJvd0lubmVyLlBvc2l0aW9uID0gVURpbTIubmV3KDAuMDQsMCwwLjE1LDApCglyYWluYm93SW5uZXIuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwxMjAsMCkKCXJhaW5ib3dJbm5lci5Cb3JkZXJTaXplUGl4ZWwgPSAwCglyYWluYm93SW5uZXIuVmlzaWJsZSA9IF9HLlRyYWlsU2V0dGluZ3MuUmFpbmJvdwoJbG9jYWwgcmFpbmJvd0lubmVyQ29ybmVyID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIHJhaW5ib3dJbm5lcikKCXJhaW5ib3dJbm5lckNvcm5lci5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLDYpCgoJcmFpbmJvd0JveC5JbnB1dEJlZ2FuOkNvbm5lY3QoZnVuY3Rpb24oaSkKCQlpZiBpLlVzZXJJbnB1dFR5cGUgPT0gRW51bS5Vc2VySW5wdXRUeXBlLk1vdXNlQnV0dG9uMSB0aGVuCgkJCV9HLlRyYWlsU2V0dGluZ3MuUmFpbmJvdyA9IG5vdCBfRy5UcmFpbFNldHRpbmdzLlJhaW5ib3cKCQkJcmFpbmJvd0lubmVyLlZpc2libGUgPSBfRy5UcmFpbFNldHRpbmdzLlJhaW5ib3cKCQllbmQKCWVuZCkKCglyZXR1cm4gZ3VpLCBmcmFtZQplbmQKCmxvY2FsIEdVSSwgTWFpbkZyYW1lID0gY3JlYXRlR1VJKCkKCi0tIFRvZ2dsZSBtZW51IChMKQpVc2VySW5wdXRTZXJ2aWNlLklucHV0QmVnYW46Q29ubmVjdChmdW5jdGlvbihpbnB1dCwgZykKCWlmIGcgdGhlbiByZXR1cm4gZW5kCglpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5MIGFuZCB1bmxvY2tlZCB0aGVuCgkJTWFpbkZyYW1lLlZpc2libGUgPSBub3QgTWFpbkZyYW1lLlZpc2libGUKCWVuZAplbmQpCgotLSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLSBQQVJUIDIg4oCUIEFJTSBTWVNURU0gKyBBVVRPU0hPT1QgKyBQUkVESUNUSU9OIEVOR0lORQotLSAoZnVuY3Rpb25hbGl0eSBwcmVzZXJ2ZWQgZnJvbSBvcmlnaW5hbCkKLS0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmxvY2FsIEdsb2NrRGVsYXkgPSAwLjI2CmxvY2FsIFNob3R0eURlbGF5ID0gMC4zOQoKbG9jYWwgU3RhdGUgPSB7CglGaXJpbmcgPSBmYWxzZSwKCV9hdXRvTG9vcFJ1bm5pbmcgPSBmYWxzZQp9CgotLSBSRU1PVEUgRklSSU5HIExPR0lDCmxvY2FsIGZ1bmN0aW9uIGdldFJlbW90ZShuYW1lLCBoaXQpCglsb2NhbCBjaGFyID0gTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyCglpZiBub3QgY2hhciB0aGVuIHJldHVybiBlbmQKCglpZiBnYW1lLlBsYWNlSWQgPT0gMTY3MDIzNTEyMTcgdGhlbgoJCS0tIFNFUlZFUiAxCgkJaWYgbmFtZSA9PSAiU2hvdHR5IiBhbmQgY2hhcjpGaW5kRmlyc3RDaGlsZCgiU2hvdHR5IikgYW5kIGNoYXIuU2hvdHR5OkZpbmRGaXJzdENoaWxkKCJTaG9vdCIpIHRoZW4KCQkJcGNhbGwoZnVuY3Rpb24oKSBjaGFyLlNob3R0eS5TaG9vdDpGaXJlU2VydmVyKGhpdCkgZW5kKQoKCQllbHNlaWYgbmFtZSA9PSAiR2xvY2siIGFuZCBjaGFyOkZpbmRGaXJzdENoaWxkKCJHbG9jayIpIGFuZCBjaGFyLkdsb2NrOkZpbmRGaXJzdENoaWxkKCJTaG9vdCIpIHRoZW4KCQkJcGNhbGwoZnVuY3Rpb24oKSBjaGFyLkdsb2NrLlNob290OkZpcmVTZXJ2ZXIoaGl0KSBlbmQpCgkJZW5kCgoJZWxzZWlmIGdhbWUuUGxhY2VJZCA9PSAxNTg1Mjk4MjA5OSB0aGVuCgkJLS0gU0VSVkVSIDIKCQlpZiBuYW1lID09ICJTaG90dHkiIGFuZCBnYW1lLlJlcGxpY2F0ZWRTdG9yYWdlOkZpbmRGaXJzdENoaWxkKCJTaG90dHlGaXJlIikgdGhlbgoJCQlwY2FsbChmdW5jdGlvbigpIGdhbWUuUmVwbGljYXRlZFN0b3JhZ2UuU2hvdHR5RmlyZTpGaXJlU2VydmVyKGhpdCkgZW5kKQoKCQllbHNlaWYgbmFtZSA9PSAiR2xvY2siIGFuZCBnYW1lLlJlcGxpY2F0ZWRTdG9yYWdlOkZpbmRGaXJzdENoaWxkKCJHbG9ja0ZpcmUiKSB0aGVuCgkJCXBjYWxsKGZ1bmN0aW9uKCkgZ2FtZS5SZXBsaWNhdGVkU3RvcmFnZS5HbG9ja0ZpcmU6RmlyZVNlcnZlcihoaXQpIGVuZCkKCQllbmQKCgllbHNlCgkJLS0gVU5JVkVSU0FMIEZBTExCQUNLCgkJcGNhbGwoZnVuY3Rpb24oKQoJCQlmb3IgXywgdG9vbCBpbiBpcGFpcnMoY2hhcjpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgdG9vbDpJc0EoIlRvb2wiKSBhbmQgdG9vbDpGaW5kRmlyc3RDaGlsZCgiU2hvb3QiKSB0aGVuCgkJCQkJdG9vbC5TaG9vdDpGaXJlU2VydmVyKGhpdCkKCQkJCQlicmVhawoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCWVuZAplbmQKCi0tIFBMQVkgRklSRSBBTklNIElGIFRIRSBUT09MIEhBUyBPTkUKbG9jYWwgZnVuY3Rpb24gcGxheVRvb2xGaXJlQW5pbSh0b29sLCBodW1hbm9pZCkKCWlmIG5vdCB0b29sIG9yIG5vdCBodW1hbm9pZCB0aGVuIHJldHVybiBlbmQKCglsb2NhbCBmaXJlcyA9IHRvb2w6RmluZEZpcnN0Q2hpbGQoIkZpcmVzIikKCWlmIGZpcmVzIGFuZCBmaXJlczpJc0EoIkFuaW1hdGlvbiIpIHRoZW4KCQlsb2NhbCBvaywgdHJhY2sgPSBwY2FsbChmdW5jdGlvbigpCgkJCXJldHVybiBodW1hbm9pZDpMb2FkQW5pbWF0aW9uKGZpcmVzKQoJCWVuZCkKCQlpZiBvayBhbmQgdHJhY2sgdGhlbgoJCQlwY2FsbChmdW5jdGlvbigpCgkJCQl0cmFjazpQbGF5KDAuMSwgMSwgMikKCQkJZW5kKQoJCWVuZAoJZW5kCmVuZAoKLS0gR0VUIFBsYXllciBGUk9NIE1PVVNFIFRBUkdFVApsb2NhbCBmdW5jdGlvbiBnZXRNb3VzZVRhcmdldFBsYXllcigpCglsb2NhbCBtb3VzZSA9IExvY2FsUGxheWVyOkdldE1vdXNlKCkKCWlmIG5vdCBtb3VzZSBvciBub3QgbW91c2UuVGFyZ2V0IHRoZW4gcmV0dXJuIG5pbCBlbmQKCglsb2NhbCBtb2RlbCA9IG1vdXNlLlRhcmdldDpGaW5kRmlyc3RBbmNlc3Rvck9mQ2xhc3MoIk1vZGVsIikKCWlmIG5vdCBtb2RlbCB0aGVuIHJldHVybiBuaWwgZW5kCgoJbG9jYWwgcGxyID0gUGxheWVyczpHZXRQbGF5ZXJGcm9tQ2hhcmFjdGVyKG1vZGVsKQoJaWYgcGxyIGFuZCBwbHIgfj0gTG9jYWxQbGF5ZXIgdGhlbgoJCWxvY2FsIGh1bSA9IG1vZGVsOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQoJCWlmIGh1bSBhbmQgaHVtLkhlYWx0aCA+IDAgdGhlbgoJCQlyZXR1cm4gcGxyCgkJZW5kCgllbmQKCglyZXR1cm4gbmlsCmVuZAoKLS0gUFJFRElDVElPTiBFTkdJTkUKbG9jYWwgZnVuY3Rpb24gZ2V0UHJlZGljdGVkUG9zaXRpb24odGFyZ2V0LCBmYWxsYmFja1BvcykKCWlmIG5vdCB0YXJnZXQgb3Igbm90IHRhcmdldC5DaGFyYWN0ZXIgdGhlbiByZXR1cm4gZmFsbGJhY2tQb3MgZW5kCgoJbG9jYWwgY2hhciA9IHRhcmdldC5DaGFyYWN0ZXIKCWxvY2FsIGhycCA9IGNoYXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQoJaWYgbm90IGhycCB0aGVuIHJldHVybiBmYWxsYmFja1BvcyBlbmQKCglsb2NhbCB2ZWwgPSBocnAuVmVsb2NpdHkgb3IgVmVjdG9yMy56ZXJvCglsb2NhbCBwcmVkaWN0aW9uID0gX0cuQWltU2V0dGluZ3MuX2dldFByZWRpY3Rpb24KCWlmIHByZWRpY3Rpb24gPT0gMCB0aGVuIHByZWRpY3Rpb24gPSAwLjAwMDEgZW5kCgoJbG9jYWwgYWRqdXN0ZWRWZWwgPSBWZWN0b3IzLm5ldyh2ZWwuWCwgdmVsLlkgKiAwLjIsIHZlbC5aKQoKCWxvY2FsIHByZWRpY3RlZCA9IGhycC5Qb3NpdGlvbiArIChhZGp1c3RlZFZlbCAvIHByZWRpY3Rpb24pCglsb2NhbCBibGVuZCA9IF9HLkFpbVNldHRpbmdzLl9nZXRCbGVuZAoKCXJldHVybiBwcmVkaWN0ZWQ6TGVycChmYWxsYmFja1BvcywgYmxlbmQpCmVuZAoKLS0gRklSRSBBVFRFTVBUCmxvY2FsIGZ1bmN0aW9uIHRyeUZpcmUoKQoJbG9jYWwgdGFyZ2V0UGxheWVyID0gZ2V0TW91c2VUYXJnZXRQbGF5ZXIoKQoJaWYgbm90IHRhcmdldFBsYXllciB0aGVuIHJldHVybiBuaWwgZW5kCgoJbG9jYWwgY2hhciA9IExvY2FsUGxheWVyLkNoYXJhY3RlcgoJaWYgbm90IGNoYXIgdGhlbiByZXR1cm4gbmlsIGVuZAoKCWxvY2FsIGh1bSA9IGNoYXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpCglpZiBub3QgaHVtIHRoZW4gcmV0dXJuIG5pbCBlbmQKCglsb2NhbCB0b29sCglmb3IgXywgdiBpbiBpcGFpcnMoY2hhcjpHZXRDaGlsZHJlbigpKSBkbwoJCWlmIHY6SXNBKCJUb29sIikgdGhlbgoJCQl0b29sID0gdgoJCQlicmVhawoJCWVuZAoJZW5kCgoJaWYgbm90IHRvb2wgdGhlbgoJCXJldHVybiBuaWwKCWVuZAoKCWlmIHRvb2w6RmluZEZpcnN0Q2hpbGQoIkFtbW8iKSBhbmQgdG9vbC5BbW1vLlZhbHVlIDw9IDAgdGhlbgoJCXJldHVybiBuaWwKCWVuZAoKCWxvY2FsIG1vdXNlID0gTG9jYWxQbGF5ZXI6R2V0TW91c2UoKQoJaWYgbm90IG1vdXNlIHRoZW4gcmV0dXJuIG5pbCBlbmQKCglsb2NhbCBoaXQgPSBtb3VzZS5IaXQKCWlmIG5vdCBoaXQgdGhlbiByZXR1cm4gbmlsIGVuZAoKCS0tIGFwcGx5IHByZWRpY3Rpb24KCWxvY2FsIHByZWRpY3RlZFBvcyA9IGdldFByZWRpY3RlZFBvc2l0aW9uKHRhcmdldFBsYXllciwgaGl0LlBvc2l0aW9uKQoJaGl0ID0gQ0ZyYW1lLm5ldyhwcmVkaWN0ZWRQb3MpCgoJLS0gU0hJRlQgTUFDUk8KCWlmIF9HLkFpbVNldHRpbmdzLl9zaGlmdEVuYWJsZWQgdGhlbgoJCWxvY2FsIGRlbGF5ID0gX0cuQWltU2V0dGluZ3MuX2dldFNoaWZ0RGVsYXkKCgkJcGNhbGwoZnVuY3Rpb24oKQoJCQlWaXJ0dWFsSW5wdXRNYW5hZ2VyOlNlbmRLZXlFdmVudCh0cnVlLCBFbnVtLktleUNvZGUuTGVmdFNoaWZ0LCBmYWxzZSwgZ2FtZSkKCQkJdGFzay5kZWxheShkZWxheSwgZnVuY3Rpb24oKQoJCQkJVmlydHVhbElucHV0TWFuYWdlcjpTZW5kS2V5RXZlbnQoZmFsc2UsIEVudW0uS2V5Q29kZS5MZWZ0U2hpZnQsIGZhbHNlLCBnYW1lKQoJCQllbmQpCgkJZW5kKQoJZW5kCgoJLS0gREVURUNUIFRPT0wgVFlQRQoJbG9jYWwgdG9vbE5hbWUgPSB0b3N0cmluZyh0b29sKTpsb3dlcigpCgoJaWYgdG9vbE5hbWU6ZmluZCgiZ2xvY2siKSB0aGVuCgkJZ2V0UmVtb3RlKCJHbG9jayIsIGhpdCkKCgllbHNlaWYgdG9vbE5hbWU6ZmluZCgic2hvdHR5Iikgb3IgdG9vbE5hbWU6ZmluZCgic2hvdGd1biIpIHRoZW4KCQlnZXRSZW1vdGUoIlNob3R0eSIsIGhpdCkKCgllbHNlCgkJcGNhbGwoZnVuY3Rpb24oKQoJCQlpZiB0b29sOkZpbmRGaXJzdENoaWxkKCJTaG9vdCIpIHRoZW4KCQkJCXRvb2wuU2hvb3Q6RmlyZVNlcnZlcihoaXQpCgkJCWVuZAoJCWVuZCkKCWVuZAoKCXBsYXlUb29sRmlyZUFuaW0odG9vbCwgaHVtKQoKCXJldHVybiB0b29sTmFtZQplbmQKCi0tIEFVVE9TSE9PVCBMT09QCmxvY2FsIGZ1bmN0aW9uIGF1dG9GaXJlTG9vcCgpCglpZiBTdGF0ZS5fYXV0b0xvb3BSdW5uaW5nIHRoZW4gcmV0dXJuIGVuZAoJU3RhdGUuX2F1dG9Mb29wUnVubmluZyA9IHRydWUKCgl3aGlsZSBTdGF0ZS5GaXJpbmcgZG8KCQlsb2NhbCB0YXJnZXQgPSBnZXRNb3VzZVRhcmdldFBsYXllcigpCgoJCWlmIHRhcmdldCB0aGVuCgkJCWxvY2FsIHdlYXBvbiA9IHRyeUZpcmUoKQoKCQkJbG9jYWwgZGVsYXkgPQoJCQkJKHdlYXBvbiBhbmQgd2VhcG9uOmZpbmQoImdsb2NrIikgYW5kIEdsb2NrRGVsYXkpIG9yCgkJCQkod2VhcG9uIGFuZCAod2VhcG9uOmZpbmQoInNob3R0eSIpIG9yIHdlYXBvbjpmaW5kKCJzaG90Z3VuIikpIGFuZCBTaG90dHlEZWxheSkgb3IKCQkJCTAuMDgKCgkJCXRhc2sud2FpdChkZWxheSkKCQllbHNlCgkJCXRhc2sud2FpdCgwLjAyKQoJCWVuZAoJZW5kCgoJU3RhdGUuX2F1dG9Mb29wUnVubmluZyA9IGZhbHNlCmVuZAoKLS0gTU9VU0UgSU5QVVQgTElTVEVORVJTClVzZXJJbnB1dFNlcnZpY2UuSW5wdXRCZWdhbjpDb25uZWN0KGZ1bmN0aW9uKGlucHV0LCBnYW1lY2Vzc2VkKQoJaWYgZ2FtZWNlc3NlZCB0aGVuIHJldHVybiBlbmQKCWlmIGlucHV0LlVzZXJJbnB1dFR5cGUgPT0gRW51bS5Vc2VySW5wdXRUeXBlLk1vdXNlQnV0dG9uMSB0aGVuCgkJaWYgbm90IFN0YXRlLkZpcmluZyB0aGVuCgkJCVN0YXRlLkZpcmluZyA9IHRydWUKCQkJdGFzay5zcGF3bihhdXRvRmlyZUxvb3ApCgkJZW5kCgllbmQKZW5kKQoKVXNlcklucHV0U2VydmljZS5JbnB1dEVuZGVkOkNvbm5lY3QoZnVuY3Rpb24oaW5wdXQpCglpZiBpbnB1dC5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZUJ1dHRvbjEgdGhlbgoJCVN0YXRlLkZpcmluZyA9IGZhbHNlCgllbmQKZW5kKQoKLS0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0gUEFSVCAzIOKAlCBXSElURSBUUkFJTCBFTkdJTkUgKFNZTkNFRCBXSVRIIFNMSURFUlMpCi0tID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgotLSBXZSB0cmFjayB0cmFpbHMgaGVyZSBzbyB3ZSBuZXZlciBob29rIHRoZSBzYW1lIHRyYWlsIHR3aWNlCmxvY2FsIEFjdGl2ZVRyYWlscyA9IHt9CgotLSBBcHBseSBzZXR0aW5ncyB0byBPTkUgdHJhaWwKbG9jYWwgZnVuY3Rpb24gQXBwbHlUcmFpbFNldHRpbmdzKHRyYWlsKQoJaWYgbm90IHRyYWlsIHRoZW4gcmV0dXJuIGVuZAoKCS0tIGRvbid0IGFwcGx5IHdoaXRlIHRyYWlsIHNldHRpbmdzIHdoaWxlIFJhaW5ib3cgbW9kZSBpcyBPTgoJaWYgX0cuVHJhaWxTZXR0aW5ncy5SYWluYm93IHRoZW4gcmV0dXJuIGVuZAoKCXBjYWxsKGZ1bmN0aW9uKCkKCQl0cmFpbC5Db2xvciA9IENvbG9yU2VxdWVuY2UubmV3KENvbG9yMy5uZXcoMSwgMSwgMSkpCgkJdHJhaWwuTGlmZXRpbWUgPSBfRy5UcmFpbFNldHRpbmdzLkxpZmV0aW1lIG9yIDAuMjEKCgkJdHJhaWwuVHJhbnNwYXJlbmN5ID0gTnVtYmVyU2VxdWVuY2UubmV3KHsKCQkJTnVtYmVyU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgX0cuVHJhaWxTZXR0aW5ncy5TdGFydFQgb3IgMC40NyksCgkJCU51bWJlclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIF9HLlRyYWlsU2V0dGluZ3MuRW5kVCBvciAxKQoJCX0pCgoJCXRyYWlsLkJyaWdodG5lc3MgPSBfRy5UcmFpbFNldHRpbmdzLkJyaWdodG5lc3Mgb3IgMTAKCQl0cmFpbC5MaWdodEVtaXNzaW9uID0gX0cuVHJhaWxTZXR0aW5ncy5FbWlzc2lvbiBvciAxCgllbmQpCmVuZAoKLS0gSG9vayBhIHRyYWlsIChvbmx5IG9uY2UpCmxvY2FsIGZ1bmN0aW9uIEhvb2tUcmFpbCh0cmFpbCkKCWlmIG5vdCB0cmFpbCBvciBBY3RpdmVUcmFpbHNbdHJhaWxdIHRoZW4gcmV0dXJuIGVuZAoKCUFjdGl2ZVRyYWlsc1t0cmFpbF0gPSB0cnVlCglBcHBseVRyYWlsU2V0dGluZ3ModHJhaWwpCmVuZAoKLS0gQ2F0Y2ggTkVXIHRyYWlscwpXb3Jrc3BhY2UuRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24ob2JqKQoJaWYgb2JqOklzQSgiVHJhaWwiKSB0aGVuCgkJSG9va1RyYWlsKG9iaikKCWVuZAplbmQpCgotLSBDYXRjaCBhbnkgdHJhaWxzIHRoYXQgYWxyZWFkeSBleGlzdApmb3IgXywgaW5zdCBpbiBpcGFpcnMoV29ya3NwYWNlOkdldERlc2NlbmRhbnRzKCkpIGRvCglpZiBpbnN0OklzQSgiVHJhaWwiKSB0aGVuCgkJSG9va1RyYWlsKGluc3QpCgllbmQKZW5kCgotLSBMaXZlIFVwZGF0ZSBMb29wClJ1blNlcnZpY2UuUmVuZGVyU3RlcHBlZDpDb25uZWN0KGZ1bmN0aW9uKCkKCWZvciB0cmFpbCBpbiBwYWlycyhBY3RpdmVUcmFpbHMpIGRvCgkJaWYgbm90IHRyYWlsIG9yIG5vdCB0cmFpbC5QYXJlbnQgdGhlbgoJCQlBY3RpdmVUcmFpbHNbdHJhaWxdID0gbmlsCgkJZWxzZQoJCQlBcHBseVRyYWlsU2V0dGluZ3ModHJhaWwpCgkJZW5kCgllbmQKZW5kKQoKLS0gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0gUEFSVCA0IOKAlCBSQUlOQk9XIFRSQUlMIEVOR0lORSAoVE9HR0xFRCBWSUEgVUkpCi0tID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Cgpsb2NhbCBSYWluYm93VHJhaWxzID0ge30KCmxvY2FsIHNwZWVkID0gMC40ICAgICAgLS0gcmFpbmJvdyBjeWNsZSBzcGVlZApsb2NhbCBzcHJlYWQgPSAwLjE4ICAgIC0tIGh1ZSBkaXN0YW5jZSBiZXR3ZWVuIGNvbG9ycwoKbG9jYWwgZnVuY3Rpb24gaHN2KGgpIHJldHVybiBDb2xvcjMuZnJvbUhTVihoICUgMSwgMSwgMSkgZW5kCgpsb2NhbCBmdW5jdGlvbiBob29rUmFpbmJvd1RyYWlsKHRyYWlsKQoJaWYgbm90IHRyYWlsIG9yIFJhaW5ib3dUcmFpbHNbdHJhaWxdIHRoZW4gcmV0dXJuIGVuZAoJQWN0aXZlVHJhaWxzW3RyYWlsXSA9IG5pbAoJUmFpbmJvd1RyYWlsc1t0cmFpbF0gPSB7IG9mZnNldCA9IG1hdGgucmFuZG9tKCkgfQplbmQKCi0tIExpc3RlbiBmb3IgYW55IFRyYWlsIGFkZGVkIHVuZGVyIFdvcmtzcGFjZSBhbmQgaG9vayBmb3IgcmFpbmJvdwpXb3Jrc3BhY2UuRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24ob2JqKQoJaWYgb2JqOklzQSgiVHJhaWwiKSB0aGVuCgkJaG9va1JhaW5ib3dUcmFpbChvYmopCgllbmQKZW5kKQoKLS0gSW5pdGlhbCBzY2FuIHRvIGhvb2sgZXhpc3RpbmcgdHJhaWxzCmZvciBfLCBpbnN0IGluIGlwYWlycyhXb3Jrc3BhY2U6R2V0RGVzY2VuZGFudHMoKSkgZG8KCWlmIGluc3Q6SXNBKCJUcmFpbCIpIHRoZW4KCQlob29rUmFpbmJvd1RyYWlsKGluc3QpCgllbmQKZW5kCgpSdW5TZXJ2aWNlLlJlbmRlclN0ZXBwZWQ6Q29ubmVjdChmdW5jdGlvbigpCglpZiBub3QgX0cuVHJhaWxTZXR0aW5ncy5SYWluYm93IHRoZW4gcmV0dXJuIGVuZAoJbG9jYWwgdCA9IHRpY2soKQoJZm9yIHRyYWlsLCBtZXRhIGluIHBhaXJzKFJhaW5ib3dUcmFpbHMpIGRvCgkJaWYgbm90IHRyYWlsIG9yIG5vdCB0cmFpbC5QYXJlbnQgdGhlbgoJCQlSYWluYm93VHJhaWxzW3RyYWlsXSA9IG5pbAoJCWVsc2UKCQkJbG9jYWwgYmFzZUh1ZSA9IHQgKiBzcGVlZCArIG1ldGEub2Zmc2V0CgkJCWxvY2FsIGgxID0gYmFzZUh1ZSAlIDEKCQkJbG9jYWwgaDIgPSAoYmFzZUh1ZSArIHNwcmVhZCkgJSAxCgkJCWxvY2FsIGNvbFNlcSA9IENvbG9yU2VxdWVuY2UubmV3KGhzdihoMSksIGhzdihoMikpCgkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCXRyYWlsLkNvbG9yID0gY29sU2VxCgkJCQl0cmFpbC5MaWZldGltZSA9IF9HLlRyYWlsU2V0dGluZ3MuTGlmZXRpbWUgb3IgMC4xNwoJCQkJdHJhaWwuVHJhbnNwYXJlbmN5ID0gTnVtYmVyU2VxdWVuY2UubmV3KHsKCQkJCQlOdW1iZXJTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCAwKSwKCQkJCQlOdW1iZXJTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCAxKQoJCQkJfSkKCQkJZW5kKQoJCWVuZAoJZW5kCmVuZCkKCi0tIENsZWFuIHVwIHdoZW4gUmFpbmJvdyBpcyB0dXJuZWQgb2ZmOiBtb3ZlIHRyYWlscyBiYWNrIHRvIEFjdGl2ZVRyYWlscyBzbyB3aGl0ZSBzZXR0aW5ncyByZXN1bWUKdGFzay5zcGF3bihmdW5jdGlvbigpCglsb2NhbCBwcmV2ID0gX0cuVHJhaWxTZXR0aW5ncy5SYWluYm93Cgl3aGlsZSB0cnVlIGRvCgkJaWYgX0cuVHJhaWxTZXR0aW5ncy5SYWluYm93IH49IHByZXYgdGhlbgoJCQlwcmV2ID0gX0cuVHJhaWxTZXR0aW5ncy5SYWluYm93CgkJCWlmIG5vdCBwcmV2IHRoZW4KCQkJCWZvciB0cmFpbCBpbiBwYWlycyhSYWluYm93VHJhaWxzKSBkbwoJCQkJCUFjdGl2ZVRyYWlsc1t0cmFpbF0gPSB0cnVlCgkJCQllbmQKCQkJCVJhaW5ib3dUcmFpbHMgPSB7fQoJCQllbHNlCgkJCQlmb3IgdHJhaWwgaW4gcGFpcnMoQWN0aXZlVHJhaWxzKSBkbwoJCQkJCUFjdGl2ZVRyYWlsc1t0cmFpbF0gPSBuaWwKCQkJCWVuZAoJCQllbmQKCQllbmQKCQl0YXNrLndhaXQoMC4xMikKCWVuZAplbmQpCgotLSBFbmQgb2Ygc2NyaXB0CgoKLS0gQUNDRU5UIENPTE9SIEFOSU1BVElPTiAocmVk4oaScGluaykKdGFzay5zcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB0cnVlIGRvCiAgICAgICAgbG9jYWwgdCA9IG1hdGguYWJzKG1hdGguc2luKHRpY2soKSkpCiAgICAgICAgbG9jYWwgY29sID0gQ29sb3IzLmZyb21SR0IoMjU1LCBtYXRoLmZsb29yKDQwICsgODAgKiB0KSwgbWF0aC5mbG9vcigxMjAgKyA4MCAqIHQpKQogICAgICAgIGxvY2FsIGZ1bmN0aW9uIGFwcGx5KG9iaikKICAgICAgICAgICAgaWYgb2JqOklzQSgiVUlTdHJva2UiKSB0aGVuCiAgICAgICAgICAgICAgICBvYmouQ29sb3IgPSBjb2wKICAgICAgICAgICAgZWxzZWlmIG9iajpJc0EoIkZyYW1lIikgYW5kIG9iai5OYW1lID09ICJhY3RpdmVJbmRpY2F0b3IiIHRoZW4KICAgICAgICAgICAgICAgIG9iai5CYWNrZ3JvdW5kQ29sb3IzID0gY29sCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICBmb3IgXyxkIGluIGlwYWlycyhvYmo6R2V0Q2hpbGRyZW4oKSkgZG8gYXBwbHkoZCkgZW5kCiAgICAgICAgZW5kCiAgICAgICAgaWYgTWFpbkZyYW1lIHRoZW4gYXBwbHkoTWFpbkZyYW1lKSBlbmQKICAgICAgICB0YXNrLndhaXQoMC4xNSkKICAgIGVuZAplbmQpCgoKLS0gRVhFQ1VURUQgV0VCSE9PSwp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIGxvY2FsIEh0dHBTZXJ2aWNlID0gZ2FtZTpHZXRTZXJ2aWNlKCJIdHRwU2VydmljZSIpCiAgICBsb2NhbCBQbGF5ZXJzID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikKICAgIGxvY2FsIHVzZXJuYW1lID0gUGxheWVycy5Mb2NhbFBsYXllciBhbmQgUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIG9yICJVbmtub3duIgoKICAgIGxvY2FsIHBheWxvYWQgPSB7CiAgICAgICAgY29udGVudCA9ICIqKlRlcmEgRXhlY3V0ZWQqKiIsCiAgICAgICAgZW1iZWRzID0gewogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0aXRsZSA9ICJFeGVjdXRpb24gTG9nIiwKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gIlVzZXJuYW1lOiBgIiAuLiB1c2VybmFtZSAuLiAiYCIsCiAgICAgICAgICAgICAgICBjb2xvciA9IDY1MjgwCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgbG9jYWwgcmVxID0gcmVxdWVzdCBvciBodHRwX3JlcXVlc3Qgb3IgKHN5biBhbmQgc3luLnJlcXVlc3QpCiAgICBpZiByZXEgdGhlbgogICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgcmVxKHsKICAgICAgICAgICAgICAgIFVybCA9ICJodHRwczovL2Rpc2NvcmQuY29tL2FwaS93ZWJob29rcy8xNDQ2NDA4MTcwNDM5MTgwMzQyL1lWSFJWaUFURWRqVDI1SC0tZG4xVDJuREZBUk10N1hsUzUyWEZMc2dzbV8xZHBURjl6QkhVaHRLWDZ1azE3LW83MXNwIiwKICAgICAgICAgICAgICAgIE1ldGhvZCA9ICJQT1NUIiwKICAgICAgICAgICAgICAgIEhlYWRlcnMgPSB7WyJDb250ZW50LVR5cGUiXSA9ICJhcHBsaWNhdGlvbi9qc29uIn0sCiAgICAgICAgICAgICAgICBCb2R5ID0gSHR0cFNlcnZpY2U6SlNPTkVuY29kZShwYXlsb2FkKQogICAgICAgICAgICB9KQogICAgICAgIGVuZCkKICAgIGVuZAplbmQpCg=="
local s = game:GetService("HttpService"):Base64Decode(b)
loadstring(s)()
